<div class="container">
    <div class="mt-5">
        <div class="col-12 col-md-6 col-lg-4 mx-auto">
            <h1>Register</h1>
            <!-- Bootstrap Toast for Success and Error Messages -->
            <div *ngIf="(registrationSuccess || registrationError || serverErrors.length > 0)" class="toast show"
                role="alert" aria-live="assertive" aria-atomic="true"
                style="background-color: {{ registrationSuccess ? '#28a745' : '#dc3545' }}; color: #fff; position: fixed; top: 0; left: 50%; transform: translateX(-50%);">
                <div class="toast-body">
                    {{ registrationSuccess ? 'Registration successful! Redirecting to login page...' :
                    (registrationError ? 'Registration failed! Please check the form for errors.' :
                    ('Validation Errors: ' + serverErrors.join(', '))) }}
                </div>
            </div>

            <form #form="ngForm" (ngSubmit)="onFormSubmit()" novalidate>
                <div class="mt-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" name="firstName" id="firstName"
                        [(ngModel)]="model.firstName" required>
                    <div *ngIf="form.controls['firstName'].invalid && (form.controls['firstName'].dirty || form.controls['firstName'].touched)"
                        class="text-danger">
                        First Name is required.
                    </div>
                </div>

                <div class="mt-3">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" class="form-control" name="lastName" id="lastName" [(ngModel)]="model.lastName"
                        required>
                    <div *ngIf="form.controls['lastName'].invalid && (form.controls['lastName'].dirty || form.controls['lastName'].touched)"
                        class="text-danger">
                        Last Name is required.
                    </div>
                </div>

                <div class="mt-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" name="email" id="email" [(ngModel)]="model.email" required
                        email>
                    <div *ngIf="form.controls['email'].invalid && (form.controls['email'].dirty || form.controls['email'].touched)"
                        class="text-danger">
                        Please enter a valid email address.
                    </div>
                </div>

                <div class="mt-3">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" name="password" id="password"
                        [(ngModel)]="model.password" required minlength="6">
                    <div *ngIf="form.controls['password'].invalid && (form.controls['password'].dirty || form.controls['password'].touched)"
                        class="text-danger">
                        Password is required and must be at least 6 characters long.
                    </div>
                </div>

                <div class="mt-3">
                    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Register</button>
                </div>
            </form>

        </div>
    </div>
</div>